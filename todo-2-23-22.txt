import {Pipe, PipeTransform} from '@angular/core';
import {TranslateService} from '@ngx-translate/core';

@Pipe({
  name: 'sortmultiple',
  pure: false
})
export class SortMultiplePropertiesPipePipe implements PipeTransform {

  constructor(public translateService: TranslateService) {
  }

  transform(array: any, properties: string[]): any[] {
    if (!Array.isArray(array)) {
      return;
    }

    const lamdas = properties.map(value => {
      (function (a, b): number {
        return 1;
      });
    });

    array.sort(
      (a, b) => {
        // console.error("a=> ", a, " b=> ", b);
        lamdas.forEach(function (value: any) {
          const result = value.apply(a, b);
          if (result !== 0) {
            return result;
          }

        });

        return 0;
      }
    );


/*    const compareByGroup = (a: any, b: any ) => {
      for (let k = 0; k < properties.length; k++) {

        const aTypeGroup = this.translateService.instant(a[properties[k]]);
        const bTypeGroup = this.translateService.instant(b[properties[k]]);
        return (aTypeGroup < bTypeGroup) ? -1 : (aTypeGroup > bTypeGroup ? 1 : 0);
      }
    };

    const compareByLabel = (a: any, b: any) => {
      for (let j = 0; j < properties.length; j++) {

        const aTypeLabel = this.translateService.instant(a[properties[j]]);
        const bTypeLabel = this.translateService.instant(b[properties[j]]);
        const turkishAlphabet = '0123456789AaBbCcÇçDdEeFfGgĞğHhIıİiJjKkLlMmNnOoÖöPpQqRrSsŞşTtUuÜüVvWwXxYyZz';

        if (aTypeLabel.length === 0 || bTypeLabel.length === 0) {
          return aTypeLabel.length - bTypeLabel.length;
        }
        for (let i = 0; i < aTypeLabel.length && i < bTypeLabel.length; i++) {
          const ai = turkishAlphabet.indexOf(aTypeLabel[i].toUpperCase());
          const bi = turkishAlphabet.indexOf(bTypeLabel[i].toUpperCase());
          if (ai !== bi) {
            return ai - bi;
          }
        }
      }
    };*/

/*      array.sort(
        (a, b ) => {
          const s = compareByGroup(a, b  );
          if (s !== 0) {
            return s;
          } else {
            return compareByLabel(a, b);
          }
        }
      );*/


    return array;
  }
}
dashboardResource 68.satır

admin yok sadece supervizör , quality manager

tab'da call process 'de görücek 

call party content agent update project Id' değişmişse bütün veritabanındaki 

kullanıcılar güncellenecek operator Id kolonuna göre

default project güncellenene çekelim update call process and project Id=1 

olanlar dateTime'lara göre hardcode/yaml

commit geri alınsın

3.8.5 jar çıkacak atıca test  yap sonra jar 

Mert ile bu bakılacak , döküman değiştirilip ayağa kaldırılacak

1) kafka'yı indiricem son sürümö

kafka nasıl kurulur google'la

kafka , zookeeper

docker zookeper çalıştır


zip inicek kafka 

apacha kafka how to install 

apache kafka run.bat

kafka çalışır hale getirilecek

2) run çalıştır task manager'dan  kontrol edicem 
run.bat çalışıyor

kafkayı artır zookeper sonra core rasa 

dockecr kur yeni versiyon docker 


model zip'li olmayacak